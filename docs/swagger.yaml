definitions:
  filesystem.FileInfoJSON:
    properties:
      isDir:
        type: boolean
      mode:
        type: string
      modify:
        type: string
      name:
        type: string
      size:
        type: integer
    type: object
  filesystem.QuotaInfo:
    properties:
      files:
        type: integer
      files_grace:
        type: string
      files_limit:
        type: integer
      files_quota:
        type: integer
      filesystem:
        type: string
      kbytes:
        type: integer
      kbytes_grace:
        type: string
      kbytes_limit:
        type: integer
      kbytes_quota:
        type: integer
    type: object
  models.Cluster:
    properties:
      login_nodes:
        items:
          $ref: '#/definitions/models.LoginNode'
        type: array
      name:
        type: string
    type: object
  models.LoginInfo:
    properties:
      login_node:
        $ref: '#/definitions/models.LoginNode'
      user:
        $ref: '#/definitions/models.User'
    type: object
  models.LoginNode:
    properties:
      host:
        type: string
      name:
        type: string
      port:
        type: string
    type: object
  models.SacctRequest:
    properties:
      accounts:
        items:
          type: string
        type: array
      allclusters:
        type: boolean
      allusers:
        type: boolean
      arrayjobs:
        type: boolean
      brief:
        type: boolean
      clusters:
        items:
          type: string
        type: array
      completion:
        type: boolean
      duplicates:
        type: boolean
      endtime:
        type: string
      format:
        type: string
      jobids:
        items:
          type: string
        type: array
      jobnames:
        items:
          type: string
        type: array
      long:
        type: boolean
      maxcpus:
        type: integer
      maxnodes:
        type: integer
      mincpus:
        type: integer
      minnodes:
        type: integer
      nodelist:
        items:
          type: string
        type: array
      noheader:
        type: boolean
      parsable:
        type: boolean
      partitions:
        items:
          type: string
        type: array
      qos:
        items:
          type: string
        type: array
      starttime:
        type: string
      states:
        items:
          type: string
        type: array
      truncate:
        type: boolean
      users:
        items:
          type: string
        type: array
    type: object
  models.SbatchRequest:
    properties:
      account:
        type: string
      array:
        type: string
      begin:
        type: string
      chdir:
        type: string
      cluster_constraint:
        type: string
      clusters:
        items:
          type: string
        type: array
      comment:
        type: string
      constraint:
        type: string
      container:
        type: string
      container_id:
        type: string
      contiguous:
        type: boolean
      core_spec:
        type: integer
      cores_per_socket:
        type: integer
      cpu_freq:
        type: string
      cpus_per_gpu:
        type: integer
      cpus_per_task:
        type: integer
      deadline:
        type: string
      delay_boot:
        type: integer
      dependency:
        type: string
      distribution:
        type: string
      error:
        type: string
      exclude_nodes:
        items:
          type: string
        type: array
      exclusive:
        type: string
      export:
        type: string
      export_file:
        type: string
      extra_node_info:
        type: string
      get_user_env:
        type: boolean
      gid:
        type: string
      gpu_bind:
        type: string
      gpu_freq:
        type: string
      gpus:
        type: integer
      gpus_per_node:
        type: integer
      gpus_per_socket:
        type: integer
      gpus_per_task:
        type: integer
      gres:
        type: string
      gres_flags:
        type: string
      hint:
        type: string
      hold:
        type: boolean
      host:
        type: string
      ignore_pbs:
        type: boolean
      input:
        type: string
      job_name:
        type: string
      licenses:
        type: string
      mail_type:
        type: string
      mail_user:
        type: string
      mcs_label:
        type: string
      mem_bind:
        type: string
      mem_per_cpu:
        type: string
      mem_per_gpu:
        type: string
      memory:
        type: string
      min_cpus:
        type: integer
      nice:
        type: integer
      no_kill:
        type: boolean
      no_requeue:
        type: boolean
      node_file:
        type: string
      node_list:
        items:
          type: string
        type: array
      nodes:
        type: string
      ntasks:
        type: integer
      ntasks_per_core:
        type: integer
      ntasks_per_node:
        type: integer
      ntasks_per_socket:
        type: integer
      output:
        type: string
      overcommit:
        type: boolean
      oversubscribe:
        type: boolean
      parsable:
        type: boolean
      partition:
        type: string
      password:
        type: string
      port:
        type: integer
      power:
        type: string
      priority:
        type: integer
      privatekey:
        type: string
      profile:
        type: string
      propagate:
        type: string
      qos:
        type: string
      quiet:
        type: boolean
      reboot:
        type: boolean
      requeue:
        type: boolean
      reservation:
        type: string
      resv_ports:
        type: boolean
      script_args:
        items:
          type: string
        type: array
      script_file:
        type: string
      signal:
        type: string
      sockets_per_node:
        type: integer
      spread_job:
        type: boolean
      switches:
        type: string
      thread_spec:
        type: integer
      threads_per_core:
        type: integer
      time:
        type: string
      time_min:
        type: string
      tmp_disk:
        type: string
      tres_bind:
        type: string
      tres_per_task:
        type: string
      uid:
        type: string
      use_min_nodes:
        type: boolean
      username:
        type: string
      verbose:
        type: boolean
      wait:
        type: boolean
      wckey:
        type: string
      wrap:
        type: string
    type: object
  models.ScancelRequest:
    properties:
      account:
        description: 只作用于此账户的作业
        type: string
      batch:
        description: 向指定作业的批处理shell发送信号
        type: boolean
      clusters:
        description: 要发出命令的集群
        type: string
      cron:
        description: 取消scrontab作业
        type: boolean
      ctld:
        description: 直接向slurmctld发送请求
        type: boolean
      full:
        description: 向批处理shell和所有步骤发送信号
        type: boolean
      hurry:
        description: 避免burst buffer阶段输出
        type: boolean
      interactive:
        description: 每个作业都需要用户响应
        type: boolean
      jobids:
        description: 要取消的作业ID列表
        items:
          type: string
        type: array
      name:
        description: 只作用于此名称的作业
        type: string
      nodelist:
        description: 只作用于这些节点上的作业
        type: string
      partition:
        description: 只作用于此分区中的作业
        type: string
      qos:
        description: 只作用于此服务质量的作业
        type: string
      quiet:
        description: 禁用警告
        type: boolean
      reservation:
        description: 只作用于此预留的作业
        type: string
      sibling:
        description: 从联合作业中移除活跃的兄弟作业
        type: string
      signal:
        description: 要发送给作业的信号，默认是SIGKILL
        type: string
      state:
        description: 只作用于此状态的作业（PENDING, RUNNING, SUSPENDED）
        type: string
      user:
        description: 只作用于此用户的作业
        type: string
      verbose:
        description: 详细程度级别
        type: boolean
      wckey:
        description: 只作用于此工作负载特征键的作业
        type: string
    type: object
  models.SinfoRequest:
    properties:
      all:
        type: boolean
      clusters:
        items:
          type: string
        type: array
      dead:
        type: boolean
      exact:
        type: boolean
      federation:
        type: boolean
      format:
        type: string
      format_long:
        type: string
      future:
        type: boolean
      hide:
        type: boolean
      iterate:
        type: integer
      json:
        type: string
      list_reasons:
        type: boolean
      local:
        type: boolean
      long:
        type: boolean
      noconvert:
        type: boolean
      node_centric:
        type: boolean
      nodes:
        items:
          type: string
        type: array
      noheader:
        type: boolean
      partitions:
        items:
          type: string
        type: array
      port:
        type: integer
      reservation:
        type: boolean
      responding:
        type: boolean
      sort:
        items:
          type: string
        type: array
      states:
        items:
          type: string
        type: array
      summarize:
        type: boolean
      verbose:
        type: boolean
      yaml:
        type: string
    type: object
  models.SqueueRequest:
    properties:
      accounts:
        items:
          type: string
        type: array
      all:
        type: boolean
      array:
        type: boolean
      clusters:
        items:
          type: string
        type: array
      federation:
        type: boolean
      format:
        type: string
      format_long:
        type: string
      hide:
        type: boolean
      host:
        type: string
      iterate:
        type: integer
      jobs:
        items:
          type: string
        type: array
      json:
        type: string
      licenses:
        items:
          type: string
        type: array
      local:
        type: boolean
      long:
        type: boolean
      names:
        items:
          type: string
        type: array
      noconvert:
        type: boolean
      nodelist:
        items:
          type: string
        type: array
      noheader:
        type: boolean
      only_job_state:
        type: boolean
      partitions:
        items:
          type: string
        type: array
      password:
        type: string
      port:
        type: integer
      privatekey:
        type: string
      qos:
        items:
          type: string
        type: array
      reservation:
        type: string
      sibling:
        type: boolean
      sort:
        items:
          type: string
        type: array
      start:
        type: boolean
      states:
        items:
          type: string
        type: array
      steps:
        items:
          type: string
        type: array
      username:
        type: string
      users:
        items:
          type: string
        type: array
      verbose:
        type: boolean
      yaml:
        type: string
    required:
    - host
    - username
    type: object
  models.User:
    properties:
      cluster:
        $ref: '#/definitions/models.Cluster'
      home_path:
        type: string
      password:
        type: string
      private_key:
        type: string
      username:
        type: string
    type: object
info:
  contact: {}
paths:
  /api/v1/filesystem/files/:
    delete:
      consumes:
      - application/json
      description: 删除指定路径的文件或目录，支持删除单个文件和空目录
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 删除请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            force_dir:
              type: boolean
            path:
              type: string
            type:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 删除文件或目录
      tags:
      - 文件管理
    get:
      consumes:
      - application/json
      description: 获取指定路径下的文件和目录列表，返回文件名、大小、权限、修改时间等信息
      parameters:
      - description: 集群名称
        example: '"hpc1"'
        in: query
        name: cluster
        required: true
        type: string
      - description: 目录路径
        example: '"/ai"'
        in: query
        name: path
        required: true
        type: string
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功返回文件列表
          schema:
            properties:
              listContent:
                items:
                  $ref: '#/definitions/filesystem.FileInfoJSON'
                type: array
              listLength:
                type: integer
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 列出目录下的文件和子目录
      tags:
      - 文件管理
    post:
      consumes:
      - application/json
      description: 在指定路径创建新的文件或目录，支持创建空文件和目录
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 创建请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            path:
              type: string
            type:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 创建成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "409":
          description: 文件或目录已存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 创建新文件或目录
      tags:
      - 文件管理
    put:
      consumes:
      - application/json
      description: 将指定路径的文件或目录重命名到新路径，支持文件和目录的重命名操作
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 重命名请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            new_path:
              type: string
            old_path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 重命名成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 源文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "409":
          description: 目标路径已存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 重命名文件或目录
      tags:
      - 文件管理
  /api/v1/filesystem/files/attr/:
    get:
      consumes:
      - application/json
      description: 获取指定路径文件或目录的详细属性信息，包括名称、大小、权限、修改时间等
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 集群名称
        example: '"hpc1"'
        in: query
        name: cluster
        required: true
        type: string
      - description: 文件或目录路径
        example: '"/ai/new_folder_rename/test_renamed.sh"'
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 获取属性成功" example({"name":"test_renamed.sh","size":29,"mode":"-rw-r--r--","modify":"2025-08-07
            10:16:36 +0800 CST","isDir":false})
          schema:
            properties:
              isDir:
                type: boolean
              mode:
                type: string
              modify:
                type: string
              name:
                type: string
              size:
                type: integer
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 获取文件或目录属性
      tags:
      - 文件管理
  /api/v1/filesystem/files/chmod/:
    post:
      consumes:
      - application/json
      description: 修改指定路径文件或目录的权限模式，支持数字权限格式（如755、644等）
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 修改权限请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            mode:
              type: string
            path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 修改权限成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误或权限格式无效
          schema:
            properties:
              error:
                type: string
            type: object
        "403":
          description: 没有权限修改该文件
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 修改文件或目录权限
      tags:
      - 文件管理
  /api/v1/filesystem/files/chown/:
    post:
      consumes:
      - application/json
      description: 修改指定路径文件或目录的所有者和组，需要提供用户ID和组ID
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 修改所有者请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            group:
              type: string
            owner:
              type: string
            path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 修改所有者成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误或用户ID/组ID格式无效
          schema:
            properties:
              error:
                type: string
            type: object
        "403":
          description: 没有权限修改该文件所有者
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 修改文件或目录所有者
      tags:
      - 文件管理
  /api/v1/filesystem/files/content/:
    get:
      consumes:
      - application/json
      description: 读取指定路径文件的内容，返回文件的文本内容
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 集群名称
        example: '"hpc1"'
        in: query
        name: cluster
        required: true
        type: string
      - description: 文件路径
        example: '"/ai/new_folder_rename/test_renamed.sh"'
        in: query
        name: path
        required: true
        type: string
      produces:
      - text/plain
      responses:
        "200":
          description: 文件内容" example("#!/bin/bash\\necho Hello World")
          schema:
            type: string
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 读取文件内容
      tags:
      - 文件管理
    post:
      consumes:
      - application/json
      description: 将指定内容写入到文件中，如果文件不存在会自动创建
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 写入内容请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            cluster:
              type: string
            content:
              type: string
            path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 写入成功" example({"content":"","success":"yes"})
          schema:
            properties:
              content:
                type: string
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件路径不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 写入文件内容
      tags:
      - 文件管理
  /api/v1/filesystem/files/copy/:
    post:
      consumes:
      - application/json
      description: 将源路径的文件或目录复制到目标路径，支持文件和目录的复制操作
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 复制请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            dst_path:
              type: string
            src_path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 复制成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 源文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "409":
          description: 目标路径已存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 复制文件或目录
      tags:
      - 文件管理
  /api/v1/filesystem/files/download/:
    get:
      consumes:
      - application/json
      description: 下载指定路径的文件或目录。文件直接下载，目录会被打包成ZIP文件下载
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 集群名称
        example: '"hpc1"'
        in: query
        name: cluster
        required: true
        type: string
      - description: 文件或目录路径
        example: '"/ai/mcp"'
        in: query
        name: path
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: 下载成功，返回文件内容或ZIP压缩包
          schema:
            type: file
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 下载文件或目录
      tags:
      - 文件管理
  /api/v1/filesystem/files/execute/:
    post:
      consumes:
      - application/json
      description: 执行指定路径的脚本文件，使用bash解释器运行并返回执行结果
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 执行脚本请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            cluster:
              type: string
            command_params:
              type: string
            path:
              type: string
          type: object
      produces:
      - text/plain
      responses:
        "200":
          description: 执行成功，返回脚本输出" example("Hello World\nScript executed successfully")
          schema:
            type: string
        "400":
          description: 请求参数错误或路径是目录
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 脚本文件不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误、用户未登录或脚本执行失败
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 执行脚本文件
      tags:
      - 文件管理
  /api/v1/filesystem/files/move/:
    post:
      consumes:
      - application/json
      description: 将源路径的文件或目录移动到目标路径，支持文件和目录的移动操作
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 移动请求参数
        in: body
        name: request
        required: true
        schema:
          properties:
            dst_path:
              type: string
            src_path:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 移动成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 源文件或目录不存在
          schema:
            properties:
              error:
                type: string
            type: object
        "409":
          description: 目标路径已存在
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 移动文件或目录
      tags:
      - 文件管理
  /api/v1/filesystem/files/transmission/:
    post:
      consumes:
      - multipart/form-data
      description: 上传文件到指定路径，支持断点续传和文件覆盖更新功能
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 集群名称
        example: '"hpc1"'
        in: formData
        name: cluster
        required: true
        type: string
      - description: 上传路径
        example: '"/ai/upload/test.txt"'
        in: formData
        name: path
        required: true
        type: string
      - description: 文件偏移量（用于断点续传）
        example: '"0"'
        in: formData
        name: offset
        type: string
      - description: 是否覆盖已存在文件
        enum:
        - "true"
        - "false"
        example: '"false"'
        in: formData
        name: update
        type: string
      - description: 要上传的文件
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: 上传成功" example({"success":"yes"})
          schema:
            properties:
              success:
                type: string
            type: object
        "400":
          description: 请求参数错误或文件为空
          schema:
            properties:
              error:
                type: string
            type: object
        "409":
          description: 文件已存在且未设置覆盖标志
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 上传文件
      tags:
      - 文件管理
  /api/v1/filesystem/quota/:
    get:
      consumes:
      - application/json
      description: 获取指定用户或文件系统的磁盘配额信息，包括已使用空间、配额限制、文件数量等详细信息
      parameters:
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      - description: 集群名称
        example: '"hpc1"'
        in: query
        name: cluster
        required: true
        type: string
      - description: 查询路径
        example: '"/home/user"'
        in: query
        name: path
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 获取配额信息成功" example({"filesystem":"/dev/sda1","kbytes":1024000,"kbytes_quota":2048000,"kbytes_limit":2097152,"kbytes_grace":"none","files":1000,"files_quota":5000,"files_limit":10000,"files_grace":"none"})
          schema:
            $ref: '#/definitions/filesystem.QuotaInfo'
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "404":
          description: 路径不存在或配额信息不可用
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 获取磁盘配额信息
      tags:
      - 文件管理
  /api/v1/slurm/account/:
    post:
      consumes:
      - application/json
      description: 获取作业会计信息，包括作业ID、用户、状态、提交时间等详细信息
      parameters:
      - description: sacct请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.SacctRequest'
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 查询成功，返回作业会计信息列表
          schema:
            properties:
              home_path:
                type: string
              session_key:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: 认证失败，用户名或密码错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或SSH连接失败
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 获取作业会计信息
      tags:
      - 作业管理
  /api/v1/slurm/cluster/:
    post:
      consumes:
      - application/json
      description: 获取集群信息
      parameters:
      - description: sinfo请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.SinfoRequest'
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 查询成功，返回作业会计信息列表
          schema:
            properties:
              home_path:
                type: string
              session_key:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: 认证失败，用户名或密码错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或SSH连接失败
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 获取集群、分区和节点信息
      tags:
      - 作业管理
  /api/v1/slurm/job:
    delete:
      consumes:
      - application/json
      description: 使用scancel命令取消一个或多个Slurm作业，支持多种过滤条件
      parameters:
      - description: 会话密钥
        in: header
        name: session_key
        required: true
        type: string
      - description: 取消作业请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ScancelRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 操作成功
          schema:
            properties:
              message:
                type: string
              output:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: 用户未认证
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 取消Slurm作业
      tags:
      - 作业管理
  /api/v1/slurm/job/:
    post:
      consumes:
      - application/json
      description: 使用sbatch命令提交作业
      parameters:
      - description: sbatch请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.SbatchRequest'
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 查询成功，返回作业会计信息列表
          schema:
            properties:
              home_path:
                type: string
              session_key:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: 认证失败，用户名或密码错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或SSH连接失败
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 使用sbatch命令提交作业
      tags:
      - 作业管理
  /api/v1/slurm/jobs/:
    post:
      consumes:
      - application/json
      description: 获取作业列表信息，包括作业ID、用户、状态、提交时间等信息
      parameters:
      - description: squeue请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.SqueueRequest'
      - description: SSH会话密钥
        example: '"tsh_a2e932b625c0d598db3800aa91b92016"'
        in: header
        name: sessionKey
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 查询成功，返回作业会计信息列表
          schema:
            properties:
              home_path:
                type: string
              session_key:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: 认证失败，用户名或密码错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或SSH连接失败
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 获取作业列表
      tags:
      - 作业管理
  /api/v1/user/login:
    post:
      consumes:
      - application/json
      description: 创建SSH连接会话，验证用户凭据并返回会话密钥用于后续API调用
      parameters:
      - description: 登录请求参数
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.LoginInfo'
      produces:
      - application/json
      responses:
        "200":
          description: 登录成功，返回用户主目录路径和会话密钥
          schema:
            properties:
              home_path:
                type: string
              session_key:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "401":
          description: 认证失败，用户名或密码错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或SSH连接失败
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 用户登录认证
      tags:
      - 认证管理
  /api/v1/user/logout/:
    get:
      consumes:
      - application/json
      description: 删除用户会话
      parameters:
      - description: 会话��钥
        in: header
        name: session_key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 登出成功
          schema:
            properties:
              message:
                type: string
            type: object
        "400":
          description: 请求参数错误
          schema:
            properties:
              error:
                type: string
            type: object
        "500":
          description: 服务器内部错误或用户未登录
          schema:
            properties:
              error:
                type: string
            type: object
      summary: 用户登出
      tags:
      - 认证管理
swagger: "2.0"
